<%- include('Layout/header') %>
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <title>
            <%= title %>
        </title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    </head>

    <body>
        <div class="container">
            <div class="column">
                <div class="mx-auto mt-4">
                    <div class="card shadow">
                        <div class="card-header" style="background-color: #20cc94;">
                            <h3 class="text-light">Users</h3>
                        </div>
                        <div class="card-body p-4">
                            <br />
                            <% if (message) { %>
                                <div class="alert alert-dismissible fade show alert-<%= message.type %>" role="alert">
                                    <strong>
                                        <%= message.message %>
                                    </strong>
                                </div>
                                <% } %>
                                    <div class="table-responsive">
                                        <table class="table table-dark text-center">
                                            <thead>
                                                <tr>
                                                    <th>ID</th>
                                                    <th>Image</th>
                                                    <th>First Name</th>
                                                    <th>Last Name</th>
                                                    <th>E-Mail</th>
                                                    <th>Phone</th>
                                                    <th>Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <% users.forEach(function(user){ %>
                                                    <tr class="align-middle">
                                                        <td>
                                                            <%= user.id %>
                                                        </td>
                                                        <td>
                                                            <img src="<%= user.image.substr(21) %>" width="70" />
                                                        </td>
                                                        <td>
                                                            <%= user.firstName %>
                                                        </td>
                                                        <td>
                                                            <%= user.lastName %>
                                                        </td>
                                                        <td>
                                                            <%= user.email %>
                                                        </td>
                                                        <td>
                                                            <%= user.phone %>
                                                        </td>
                                                        <td>
                                                            <a href="user/<%= user.id %>" class="btn btn-dark btn-sm"
                                                                style="background-color: #649094;">View</a>
                                                            <a href="user/update/<%= user.id %>"
                                                                class="btn btn-dark btn-sm"
                                                                style="background-color: #649094;">Update</a>
                                                            <a href="user/delete/<%= user.id %>"
                                                                class="btn btn-light btn-sm"
                                                                style="background-color: #f4cc0c;">Delete</a>
                                                        </td>
                                                    </tr>
                                                    <% }); %>
                                            </tbody>
                                        </table>
                                    </div>
                                    <form action="/api/user/delete" method="delete" autocomplete="off">
                                        <div class="col text-center">
                                            <button type="submit" class="btn btn-lg btn-danger">Delete All</button>
                                        </div>
                                    </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <br />
        <div class="container">
            <div class="column">
                <div class="mx-auto mt-4">
                    <div class="card shadow">
                        <div class="card-header" style="background-color: #20cc94;">
                            <h3 class="text-light">Create New User</h3>
                        </div>
                        <div class="card-body p-4">
                            <form action="/api/user" method="post" id="add-form" enctype="multipart/form-data">
                                <div class="mb-3">
                                    <label for="firstName">First Name</label>
                                    <input type="text" class="form-control form-control-lg" id="firstName"
                                        placeholder="Enter First Name" name="firstName" required />
                                </div>
                                <div class="mb-3">
                                    <label for="lastName">Last Name</label>
                                    <input type="text" class="form-control form-control-lg" id="lastName"
                                        placeholder="Enter Last Name" name="lastName" required />
                                </div>
                                <div class="mb-3"> <label for="email">Email</label>
                                    <input type="email" name="email" class="form-control form-control-lg" id="email"
                                        placeholder="Enter Email" required />
                                </div>
                                <div class="mb-3">
                                    <label for="phone">Phone</label>
                                    <input type="phone" name="phone" class="form-control form-control-lg" id="phone"
                                        placeholder="Enter Phone" required />
                                </div>
                                <div class="mb-3">
                                    <label for="image" class="form-label">Select Image</label>
                                    <input class="form-control form-control-lg" type="file" name="image" id="image"
                                        required />
                                </div>
                                <div class="mb-3 d-grid">
                                    <div class="col text-center">
                                        <input type="submit" name="submit" value="Create" class="btn btn-dark btn-lg"
                                            style="background-color: #20cc94;" />
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <br />
        <div class="container">
            <div class="column">
                <div class="mx-auto mt-4">
                    <div class="card shadow">
                        <div class="card-header" style="background-color: #20cc94;">
                            <h3 class="text-light">Update All Users</h3>
                        </div>
                        <div class="card-body p-4">
                            <form action="/api/user/update" method="post" id="add-form" enctype="multipart/form-data">
                                <div class="mb-3">
                                    <label for="firstName">First Name</label>
                                    <input type="text" class="form-control form-control-lg" id="firstName"
                                        placeholder="Enter First Name" name="firstName" required />
                                </div>
                                <div class="mb-3">
                                    <label for="lastName">Last Name</label>
                                    <input type="text" class="form-control form-control-lg" id="lastName"
                                        placeholder="Enter Last Name" name="lastName" required />
                                </div>
                                <div class="mb-3"> <label for="email">Email</label>
                                    <input type="email" name="email" class="form-control form-control-lg" id="email"
                                        placeholder="Enter Email" required />
                                </div>
                                <div class="mb-3">
                                    <label for="phone">Phone</label>
                                    <input type="phone" name="phone" class="form-control form-control-lg" id="phone"
                                        placeholder="Enter Phone" required />
                                </div>
                                <div class="mb-3">
                                    <label for="image" class="form-label">Select Image</label>
                                    <input class="form-control form-control-lg" type="file" name="image" id="image"
                                        required />
                                </div>
                                <div class="mb-3 d-grid">
                                    <div class="col text-center">
                                        <input type="submit" name="submit" value="Update All"
                                            class="btn btn-dark btn-lg" style="background-color: #20cc94;" />
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <br />
    </body>

    </html>
    <%- include('Layout/footer') %>